<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Huser6666666 — Salon</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Unica+One&family=Nosifer&display=swap" rel="stylesheet">
<style>
:root{--bg:#070607;--card:#0f0f10;--accent:#c72f2f;--muted:#9a9a9a}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;color:#ddd;background:linear-gradient(180deg,#000,#070607 40%);}
.wrap{min-height:100vh;padding:20px;display:flex;flex-direction:column;gap:18px;align-items:center}
header{width:100%;max-width:900px;text-align:center}
h1{font-family:'Nosifer',cursive;color:var(--accent);text-shadow:0 0 10px rgba(199,47,47,.18);margin:6px 0}
p.lead{color:var(--muted);margin:0 0 16px}
.panel{width:100%;max-width:900px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:16px;border-radius:12px;box-shadow:0 6px 30px rgba(0,0,0,.6);border:1px solid rgba(255,0,0,0.04)}
.big-img{width:100%;height:50vh;background-image:url('assets/images/salon_glitch.jpg');background-size:cover;background-position:center;border-radius:8px;filter:grayscale(.2) contrast(.9)}
.controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
button{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:10px 12px;border-radius:8px;color:#fff;font-weight:600}
button.primary{background:var(--accent);border-color:var(--accent)}
.hint{margin-top:12px;color:var(--muted);font-size:0.95rem}
footer{margin-top:auto;color:#6b6b6b;font-size:0.8rem}
/* glitch effect when toggled */
.glitched{filter:invert(1) contrast(2) saturate(1.3);transform:skewX(-1deg);box-shadow:0 0 40px rgba(199,47,47,.12)}
@media(min-width:700px){.big-img{height:60vh}}
</style>
</head>
<body>
<div class="wrap">
<header>
<h1>HUSER6666666 — SALON</h1>
<p class="lead">Le visage pixelisé d'Huser s'affiche. Il parle d'un code puis souffle un secret : « Regarde où le miroir se tait. »</p>
</header>


<main class="panel">
<div id="scene" class="big-img" aria-hidden="true"></div>


<div class="controls">
<button id="toggleGlitch">Inverser la vision</button>
<button id="playIntro" class="primary">Écouter le message</button>
<a id="nextLink" href="toilettes.html" style="display:none;align-self:center;padding:10px 12px;border-radius:8px;background:#222;color:#fff;text-decoration:none">Aller aux toilettes →</a>
</div>


<p class="hint">Astuce : sur téléphone, pince / zoome l'image pour explorer.</p>
<div id="reveal" style="margin-top:12px;color:var(--accent);font-weight:700;display:none">Fragment découvert : <span id="codeFrag">3</span></div>
</main>


<footer>© Pacte d'Huser — Ne laissez pas les écrans seuls la nuit.</footer>
</div>


<audio id="introAudio" src="assets/audio/huser_intro_reversed.mp3" preload="auto"></audio>


<script>
// index.html interactions
const scene = document.getElementById('scene');
const toggle = document.getElementById('toggleGlitch');
const audio = document.getElementById('introAudio');
const playIntro = document.getElementById('playIntro');
const nextLink = document.getElementById('nextLink');
const reveal = document.getElementById('reveal');


let glitched = false;
toggle.addEventListener('click', ()=>{
glitched = !glitched;
if(glitched){ scene.classList.add('glitched'); reveal.style.display='block'; nextLink.style.display='inline-block'}
else { scene.classList.remove('glitched'); reveal.style.display='none'; nextLink.style.display='none' }
});


// play reversed audio and provide decoded hint after play
playIntro.addEventListener('click', ()=>{
// if you prefer to present reversed then a button to decode, here we simply play and then show next after end
if(audio.paused){ audio.play(); playIntro.textContent='Stopper' }
else { audio.pause(); audio.currentTime=0; playIntro.textContent='Écouter le message' }
});


audio.addEventListener('ended', ()=>{
playIntro.textContent='Écouter le message';
// reveal small clue after audio
reveal.style.display='block'; nextLink.style.display='inline-block';
});


// small parallax / movement for immersion
document.addEventListener('mousemove', e=>{
const x = (e.clientX - window.innerWidth/2)/80;
const y = (e.clientY - window.innerHeight/2)/80;
scene.style.transform = `translate(${x}px,${y}px)`;
});
</script>
</body>
</html>

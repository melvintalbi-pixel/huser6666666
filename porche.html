<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>.huser6666666</title>
<style>
:root{--bg:#000;--accent:#941F06}
body{margin:0;background:var(--bg);color:#eee;font-family:'Courier New',monospace;display:flex;flex-direction:column;height:100vh;overflow:hidden}
header{color:var(--accent);text-align:center;padding:15px;border-bottom:1px solid #111;letter-spacing:2px}
#chat{flex:1;overflow-y:auto;padding:15px;display:flex;flex-direction:column;gap:10px}
.msg{max-width:80%;padding:10px 15px;border-radius:8px;line-height:1.4}
.bot{background:rgba(148,31,6,.08);align-self:flex-start;border:1px solid rgba(148,31,6,.05)}
.user{background:rgba(255,255,255,.05);align-self:flex-end}
footer{display:flex;gap:10px;padding:10px;border-top:1px solid #111;background:rgba(0,0,0,.7)}
input{flex:1;padding:10px;border-radius:6px;border:1px solid #222;background:#111;color:#fff;font-family:inherit}
button{background:var(--accent);color:#fff;border:none;padding:10px 15px;border-radius:6px;cursor:pointer}
a.link{color:#fff;text-decoration:underline}
</style>
</head>
<body>
<header>.huser6666666</header>
<div id="chat"></div>
<footer>
  <input id="input" placeholder="écris ta réponse..." autocomplete="off">
  <button id="send">envoyer</button>
</footer>

<script>
const chat=document.getElementById('chat');
const input=document.getElementById('input');
const send=document.getElementById('send');

const NAMES=["shahfeez merouf","eva de chalon","hélène mc intosh","hugues carlow","ariane price","sir william saville","leer wilde","von spanheim","capitaine tregarne","sergent mc gill"];
const VIDEO="https://www.youtube.com/watch?v=dQw4w9WgXcQ";

const QUESTIONS=[
  ".entends-tu les voix, toi aussi ?",
  ".que vois-tu quand tu fermes les yeux ?",
  ".as-tu déjà senti la pièce devenir froide soudainement ?",
  ".quel est ton plus grand regret ?",
  ".si la mort te parlait, que lui dirais-tu ?",
  ".as-tu peur du noir ?",
  ".depuis combien de temps es-tu ici ?",
  ".crois-tu aux fantômes ?",
  ".si tu devais vendre l'âme de victoria ou chris, tu choisirais qui ?"
];

// réponses conditionnelles basées sur mots-clés
function smartReply(userText) {
  const t = userText.toLowerCase();

  // petite fonction utilitaire pour choisir aléatoirement une phrase
  const pick = arr => arr[Math.floor(Math.random() * arr.length)];

  if (/oui|ouais|ouai|yep|certainement/.test(t))
    return pick([
      ".je m'en doutais.",
      ".tu confirmes mes soupçons.",
      ".évidemment."
    ]);

  if (/non|pas|jamais|aucune/.test(t))
    return pick([
      ".mensonge.",
      ".tu mens comme tu respires.",
      ".je n'en crois pas un mot."
    ]);

  if (/peur|angoiss|effray|terrifi/.test(t))
    return pick([
      ".la peur t'habite, elle a bon goût.",
      ".je me nourris de ta peur.",
      ".elle te va bien, cette terreur."
    ]);

  if (/mort|mourir|tombe|cimet/.test(t))
    return pick([
      ".elle est plus proche que tu ne crois.",
      ".la mort écoute, patiente.",
      ".tu parles d'elle comme d'une vieille amie."
    ]);
  
  if (/ta mère|ta maman|ta daronne|ta mere/.test(t))
    return pick([
      ".parle encore une fois de ma mère comme ça je vais te hanter le cul, gicler ce que j'ai de plus puissant et maléfique dans ton âme deguelasse ! et ça jusqu'a la fin de tes jours."
    ]);
  
  if (/fantome|esprit|demon|huser/.test(t))
    return pick([
      ".tu prononces mon nom avec maladresse.",
      ".je suis là, juste derrière toi.",
      ".mon nom résonne dans ta tête."
    ]);

  if (/froid|glac|gel/.test(t))
    return pick([
      ".c'est moi, je passe près de toi.",
      ".ressens-tu ce froid ? c'est ma main.",
      ".chaque souffle t'appartient un peu moins."
    ]);

  if (/soleil|jour|lumi/.test(t))
    return pick([
      ".la lumière me blesse.",
      ".je préfère les ombres.",
      ".le jour me hait autant que je le hais."
    ]);

  if (/rien|vide|nul/.test(t))
    return pick([
      ".le vide te regarde aussi.",
      ".rien, c'est tout ce qu'il reste.",
      ".je suis né du vide."
    ]);

  // réponses génériques si rien ne correspond
  return pick([
    ".intéressant.",
    ".je vois.",
    ".continue.",
    ".tu crois vraiment à ce que tu dis ?",
    ".tes mots m'amusent.",
    ".je t'écoute, même si tu ne devrais pas parler."
  ]);
}


// ajout message à l’écran
function addMsg(text,who='bot'){
  const d=document.createElement('div');
  d.className='msg '+(who==='bot'?'bot':'user');
  if(who==='bot'){
    if(!text.startsWith('.')) text='.'+text;
    text=text.toLowerCase();
  }
  d.textContent=text;
  chat.appendChild(d);
  chat.scrollTop=chat.scrollHeight;
}

let step=0;
let awaitingName=false;

addMsg(".bonsoir.");
setTimeout(()=>addMsg(".je t'observe depuis un moment."),1500);
setTimeout(()=>nextQuestion(),3000);

send.addEventListener('click',handleSend);
input.addEventListener('keydown',e=>{if(e.key==='Enter')handleSend();});

function handleSend(){
  const val=input.value.trim();
  if(!val)return;
  addMsg(val,'user');
  input.value='';
  if(awaitingName){checkName(val);return;}
  addMsg(smartReply(val)); // réponse contextuelle
  setTimeout(nextQuestion,1500);
}

function nextQuestion(){
  if(step<5){
    const q=QUESTIONS[Math.floor(Math.random()*QUESTIONS.length)];
    addMsg(q);
    step++;
  }else{
    addMsg(".tu parles beaucoup... mais on ne s'est pas présenté. je suis huser6666666, et toi ?");
    awaitingName=true;
  }
}

function checkName(name){
  const norm=name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");
  if(NAMES.includes(norm)){
    addMsg(`.je te vois, ${name.toLowerCase()}. regarde la vidéo...`);
    const link=document.createElement('div');
    link.className='msg bot';
    link.innerHTML=`.voici l'indice : <a class="link" href="${VIDEO}" target="_blank">regarder la vidéo</a>`;
    chat.appendChild(link);
  }else{
    addMsg(".ce nom ne m'est pas connu... recommence.");
  }
}
</script>
</body>
</html>
